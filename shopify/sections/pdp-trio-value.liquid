{% liquid
  assign offer_mode = section.settings.offer_mode
  if offer_mode == 'auto'
    if product.tags contains 'trio'
      assign offer_mode = 'trio'
    else
      assign offer_mode = 'single'
    endif
  endif
%}

{% if offer_mode == 'trio' %}
<section class="pdp-trio-value" data-offer-mode="{{ offer_mode }}">
  <h2>{{ section.settings.heading }}</h2>
  <p>{{ section.settings.trio_value_line }}</p>
  <p>{{ section.settings.layout_note }}</p>
  <p>{{ section.settings.trio_anchor_line }}</p>
</section>
{% endif %}

{% schema %}
{
  "name": "PDP Trio Value",
  "settings": [
    { "type": "select", "id": "offer_mode", "label": "Offer mode", "default": "auto", "options": [
      { "value": "auto", "label": "Auto" },
      { "value": "trio", "label": "Trio" }
    ]},
    { "type": "text", "id": "heading", "label": "Heading", "default": "Trio value" },
    { "type": "text", "id": "trio_value_line", "label": "Trio value line", "default": "Curated set + layout included" },
    { "type": "text", "id": "layout_note", "label": "Layout note", "default": "{{LAYOUT_NOTE}}" },
    { "type": "text", "id": "trio_anchor_line", "label": "Trio anchor line", "default": "Save $7 vs buying singles" }
  ],
  "presets": [{ "name": "PDP Trio Value" }]
}
{% endschema %}
